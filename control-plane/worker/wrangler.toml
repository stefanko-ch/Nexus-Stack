name = "nexus-scheduled-teardown"
main = "src/index.js"
compatibility_date = "2024-01-01"

# D1 Database for storing scheduled teardown settings
[[d1_databases]]
binding = "NEXUS_DB"
database_id = ""  # Will be created via Terraform

# Scheduled Events (Cron Triggers)
# Runs daily at configured time (default: 22:00 Europe/Zurich = 21:00 UTC)
# Notification runs 15 minutes before teardown (21:45 = 20:45 UTC)
[triggers]
crons = ["0 21 * * *"]  # Teardown at 21:00 UTC (22:00 CET / 23:00 CEST)

# Environment variables
[vars]
GITHUB_OWNER = ""  # Set via Terraform
GITHUB_REPO = ""   # Set via Terraform
